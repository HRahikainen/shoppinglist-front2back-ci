webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),n=s("mtWM"),a=s.n(n),o={name:"LoginForm",data:function(){return{email:"",password:""}},methods:{logIn:function(){var t=this;this.password.length>0&&this.email.length>0&&a.a.post("http://localhost:3000/users/login",{user:{email:this.email,password:this.password}}).then(function(e){200==e.status&&t.$emit("authenticated",!0)}).catch(function(t){console.log(t)})},register:function(){this.password.length>0&&this.email.length>0&&a.a.post("http://localhost:3000/users",{user:{email:this.email,password:this.password}}).then(function(t){console.log(t.user)}).catch(function(t){console.log(t)})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("form",{staticClass:"col s12",on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s8 m6 offset-s2 offset-m3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email-field",type:"email",name:"email",placeholder:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"email-field"}},[t._v("Email:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password-field",type:"password",name:"password",placeholder:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"password-field"}},[t._v("Email:")])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col s8 m6 offset-s2 offset-m3"},[s("a",{staticClass:"waves-effect waves-light btn-small",attrs:{id:"login-btn"},on:{click:t.logIn}},[t._v("Login")]),t._v(" "),s("a",{staticClass:"waves-effect waves-light btn-small",attrs:{id:"register-btn"},on:{click:t.register}},[t._v("Register")])])])])])])},staticRenderFns:[]},r=s("VU/8")(o,l,!1,null,null,null).exports,c=s("Dd8w"),u=s.n(c),d={name:"Form",props:{value:String},computed:{listeners:function(){var t=this;return u()({},this.$listeners,{input:function(e){return t.$emit("input",e.target.value)}})}}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("form",{staticClass:"col s12",on:{submit:function(t){t.preventDefault()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"input-field col s8 m6 offset-s2 offset-m3"},[e("input",this._g({attrs:{id:"input-item",type:"text",name:"item",placeholder:"Item to remember"},domProps:{value:this.value}},this.listeners)),this._v(" "),e("label",{attrs:{for:"input-item"}},[this._v("Add list item:")])])])])])},staticRenderFns:[]},p=s("VU/8")(d,m,!1,null,null,null).exports,h={name:"ListItem",props:{name:{type:String,default:""}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"collection-item"},[s("div",{staticClass:"valign-wrapper"},[s("p",{staticStyle:{"word-break":"break-all",width:"100%"},attrs:{id:"item-name"}},[t._v(t._s(t.name))]),t._v(" "),s("i",{staticClass:"secondary-content tiny material-icons",staticStyle:{cursor:"pointer"},attrs:{id:"remove-button"},on:{click:function(e){t.$emit("remove")}}},[t._v("clear")])])])},staticRenderFns:[]},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col s8 m6 offset-s2 offset-m3"},[this.loading?e("div",{staticClass:"progress"},[e("div",{staticClass:"indeterminate"})]):this.error?e("div",{staticClass:"center red white-text"},[e("strong",[this._v("An Error Occured In Loading List!")])]):this._e()])},staticRenderFns:[]},g={name:"app",components:{LoginForm:r,Form:p,ListItem:s("VU/8")(h,f,!1,null,null,null).exports,LoadingIndicator:s("VU/8")({name:"LoadingIndicator",props:["loading","error"]},v,!1,null,null,null).exports},data:function(){return{title:"Shopping list",newItem:"",shoppingList:[],loading:!0,error:!1,authenticated:!1}},mounted:function(){var t=this;this.loading=!0,a.a.get("http://localhost:3000/items").then(function(e){200==e.status&&e.data.item_list.forEach(function(e){return t.shoppingList.push(e)})}).catch(function(e){console.log(e),t.error=!0}).finally(function(){return t.loading=!1})},methods:{setAuthenticated:function(t){this.authenticated=t},logout:function(){var t=this;a.a.get("http://localhost:3000/users/logout").then(function(e){200==e.status&&(console.log("Logged out"),t.authenticated=!1)}).catch(function(t){console.log(t)})},addItem:function(){this.shoppingList.push({name:this.newItem}),this.saveList(),this.newItem=""},validateInput:function(){/^[a-zA-Z0-9.,]+$/.test(this.newItem)&&this.newItem.length<=30&&this.addItem()},removeItem:function(t){var e=this,s=this.shoppingList.splice(t,1);this.loading=!0,a.a.post("http://localhost:3000/items/"+s[0]._id+"/delete",{}).then(function(t){204==t.status&&console.log("Removed"),e.loading=!1}).catch(function(){e.error=!0,e.loading=!1,e.shoppingList.splice(t,0,s[0])})},saveList:function(){var t=this;this.loading=!0,a.a.post("http://localhost:3000/items/create",{name:this.newItem}).then(function(e){201==e.status?(t.shoppingList.pop(),t.shoppingList.push(e.data.item)):200==e.status&&t.shoppingList.pop(),t.loading=!1}).catch(function(){t.error=!0,t.loading=!1})},removeItems:function(){var t=this;this.loading=!0,a.a.post("http://localhost:3000/items/all/delete",{}).then(function(e){204==e.status&&(t.shoppingList=[]),t.loading=!1}).catch(function(){t.error=!0,t.loading=!1})}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"app"}},[s("h1",{staticClass:"center"},[t._v(t._s(t.title))]),t._v(" "),t.authenticated?s("p",{staticClass:"center"},[s("a",{on:{click:t.logout}},[t._v("Logout")])]):t._e(),t._v(" "),t.authenticated?t._e():s("LoginForm",{on:{authenticated:t.setAuthenticated}}),t._v(" "),t.authenticated?s("Form",{on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.validateInput(e):null}},model:{value:t.newItem,callback:function(e){t.newItem=e},expression:"newItem"}}):t._e(),t._v(" "),t.authenticated?s("div",{staticClass:"row"},[t.shoppingList.length?s("div",{staticClass:"col s12 m6 offset-m3",attrs:{id:"shopping-list"}},[s("ul",{staticClass:"collection with-header"},t._l(t.shoppingList,function(e,i){return s("ListItem",{key:i,attrs:{name:e.name},on:{remove:function(e){t.removeItem(i)}}})}),1),t._v(" "),t.shoppingList.length>1?s("a",{staticClass:"waves-effect waves-light btn-small",on:{click:t.removeItems}},[t._v("\n        Remove\n        All\n      ")]):t._e()]):t._e(),t._v(" "),t.shoppingList.length||t.loading||t.error?t._e():s("p",{staticClass:"red-text text-darken-2 flow-text center"},[t._v("No items on the list yet.")]),t._v(" "),s("LoadingIndicator",{attrs:{error:t.error,loading:t.loading}})],1):t._e()],1)},staticRenderFns:[]},w=s("VU/8")(g,_,!1,null,null,null).exports;i.a.config.productionTip=!1,new i.a({render:function(t){return t(w)}}).$mount("#app")}},["NHnr"]);
//# sourceMappingURL=app.177bc2e40c74db50d826.js.map